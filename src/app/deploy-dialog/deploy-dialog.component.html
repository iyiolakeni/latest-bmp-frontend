<div class="mat-dialog-container"></div>
<div class="min-w-[400px] max-h-[80vh] overflow-y-auto p-6">
  <div class="flex justify-between items-center mb-6">
    <button
      (click)="onClose()"
      class="flex items-center text-purple-800 hover:bg-purple-50 p-2 rounded-md"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 mr-2"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          d="M14.03 7.47a.75.75 0 0 1 0 1.06L10.56 12l3.47 3.47a.75.75 0 1 1-1.06 1.06l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0"
        />
      </svg>
      Back
    </button>
    <h2 class="text-xl font-semibold text-gray-800">
      {{ toTitleCase(data?.title || "") }}
    </h2>
  </div>

  <div class="bg-white">
    <div class="flex border-b mb-4 justify-center">
      <button
        *ngFor="let tab of tabs; let i = index"
        (click)="selectTab(i)"
        class="px-4 py-2 text-sm font-medium"
        [class.text-purple-600]="i === selectedIndex"
        [class.border-b-2]="i === selectedIndex"
        [class.border-purple-600]="i === selectedIndex"
      >
        {{ tab.label }}
      </button>
    </div>

    <form class="p-4 capitalize" [formGroup]="formGroup" (submit)="onSubmit()">
     <div *ngIf="selectedIndex === 0" class="space-y-4">
        <div class="max-w-full">
                <label class="block text-xs font-medium text-gray-500 uppercase"
                  >POS Model</label
                >
                <ng-select
                  [items]="model"
                  [bindLabel]="'name'"
                  [closeOnSelect]="true"
                  [clearable]="true"
                  [bindValue]="'id'"
                  formControlName="modelId"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 custom-merchant-select"
                  name="modelId"
                ></ng-select>
              </div>
              <div class="max-w-full">
                <label class="block text-xs font-medium text-gray-500 uppercase"
                  >PTSP Type</label
                >
                <ng-select
                  [items]="ptsp"
                  [bindLabel]="'name'"
                  [closeOnSelect]="true"
                  [clearable]="true"
                  [bindValue]="'id'"
                  formControlName="ptspId"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 custom-merchant-select"
                  name="ptspId"
                ></ng-select>
        </div>
        <div class="max-w-full">
                <label class="block text-xs font-medium text-gray-500 uppercase"
                  >Processor Type</label
                >
                <ng-select
                  [items]="processor"
                  [bindLabel]="'name'"
                  [closeOnSelect]="true"
                  [clearable]="true"
                  [bindValue]="'id'"
                  formControlName="processorId"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 custom-merchant-select"
                  name="processorId"
                ></ng-select>
              </div>
              <div class="max-w-full">
                <label class="block text-xs font-medium text-gray-500 uppercase"
                  >Account Type</label
                >
                <ng-select
                  [items]="account"
                  [bindLabel]="'name'"
                  [closeOnSelect]="true"
                  [clearable]="true"
                  [bindValue]="'id'"
                  formControlName="accountId"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 custom-merchant-select"
                  name="accountId"
                ></ng-select>
              </div>
              <div class="max-w-full">
                <label class="block text-xs font-medium text-gray-500 uppercase"
                  >Select POS Officer</label
                >
                <ng-select
                  [items]="posOfficers"
                  [bindLabel]="'name'"
                  [closeOnSelect]="true"
                  [clearable]="true"
                  [bindValue]="'id'"
                  formControlName="assignedTo"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 custom-merchant-select"
                  name="accountId"
                ></ng-select>
              </div>
        <div
          class="text-center"
        >
          <button
            class="px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-md"
            type="submit"
          >
          <span *ngIf="!isLoading">
            Deploy
          </span>
          <div class="flex space-x-1" *ngIf="isLoading">
            <div class="w-2 h-2 bg-white rounded-full animate-bounce"></div>
            <div class="w-2 h-2 bg-white rounded-full animate-bounce" style="animation-delay: -0.6s;"></div>
            <div class="w-2 h-2 bg-white rounded-full animate-bounce" style="animation-delay: -0.3s;"></div>
          </div>
          </button>
        </div>
      </div>
    </form>
  </div>
  <app-snackbar [show]="show" [message]="message" [apiResponse]="apiResponse"></app-snackbar>
</div>

